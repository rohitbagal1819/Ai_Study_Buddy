<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StudyBuddy - My Notes</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="../css/shared-styles.css">
  <link rel="stylesheet" href="../css/notes-styles.css">
  
  <!-- Quill Rich Text Editor -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>

<body>
  <div class="container">
    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <button class="menu-toggle" id="menuToggle">â˜°</button>
          <div class="header-title">My Notes</div>
        </div>

        <div class="header-right">
          <div class="notification-icon">ğŸ””<span class="notification-badge">2</span></div>

          <div class="user-profile" id="userProfile">
            <div class="user-avatar">J</div>
            <div class="user-info">
              <div class="user-name">John Doe</div>
              <div class="user-role">Student</div>
            </div>

            <div class="profile-popup" id="profilePopup">
              <div class="profile-popup-item"><span>ğŸ‘¤</span><span>My Profile</span></div>
              <div class="profile-popup-item"><span>âš™ï¸</span><span>Settings</span></div>
              <div class="profile-popup-item"><span>ğŸ“Š</span><span>My Progress</span></div>
              <div class="profile-popup-item"><span>ğŸ¯</span><span>Goals</span></div>
              <div class="profile-popup-item logout-item"><span>ğŸšª</span><span>Logout</span></div>
            </div>
          </div>
        </div>
      </header>

      <!-- Notes List View -->
      <div id="notesListView" class="notes-list-view">
        <!-- Banner -->
        <div class="student-banner">
          <div>
            <h2>Hi John ğŸ‘‹</h2>
            <p>Today's goal: revise 2 notes + take 1 quiz âœ…</p>
          </div>

          <div class="banner-actions">
            <button class="banner-btn" id="quickAddNote">â• Quick Note</button>
            <button class="banner-btn secondary" id="startDailyQuiz">ğŸ¯ Daily Quiz</button>
          </div>
        </div>

        <!-- Controls -->
        <div class="notes-controls">
          <input type="text" class="notes-search" placeholder="Search notes..." id="notesSearch">

          <div class="controls-right">
            <div class="filter-dropdown"><span>ğŸ”½</span><span>All</span></div>

            <div class="view-toggle">
              <button class="view-btn active" data-view="grid">ğŸ“±</button>
              <button class="view-btn" data-view="list">ğŸ“‹</button>
            </div>

            <button class="create-note-btn" id="createNoteBtn"><span>â•</span>Create Note</button>
          </div>
        </div>

        <!-- AI Suggestion -->
        <div class="ai-suggestion">
          <div class="ai-left">
            <div class="ai-icon">ğŸ¤–</div>
            <div>
              <h3>AI Tip for you</h3>
              <p id="aiTipText">Summarize your Physics note into 5 bullet points for faster revision.</p>
            </div>
          </div>
          <button class="ai-btn" id="aiGenerateBtn">Generate âœ¨</button>
        </div>

        <!-- Notes Grid -->
        <div class="notes-grid" id="notesGrid"></div>
      </div>

      <!-- Editor View -->
      <div id="editorView" class="editor-view" style="display: none;">
        <!-- Editor Header -->
        <div class="editor-header">
          <button class="back-btn" id="backToNotes">â† Back to Notes</button>
          <div class="editor-meta">
            <div class="subject-tag" id="subjectTag">ğŸ“ Biology</div>
            <div class="timestamp" id="noteTimestamp">Created: Just now</div>
          </div>
          <div class="editor-actions">
            <button class="editor-action-btn" id="favoriteBtn" title="Add to favorites">â˜†</button>
            <button class="editor-action-btn" id="shareBtn" title="Share">ğŸ”—</button>
            <button class="editor-action-btn" id="deleteNoteBtn" title="Delete">ğŸ—‘ï¸</button>
          </div>
        </div>

        <!-- Editor Workspace -->
        <div class="editor-workspace">
          <!-- Note Title -->
          <input type="text" id="editorNoteTitle" class="note-title-input" placeholder="Enter note title..." />

          <!-- Editor Toolbar (Fixed on scroll) -->
          <div id="editorToolbar" class="editor-toolbar">
            <select class="ql-header">
              <option selected>Normal</option>
              <option value="1">Heading 1</option>
              <option value="2">Heading 2</option>
            </select>
            <button class="ql-bold" title="Bold"></button>
            <button class="ql-italic" title="Italic"></button>
            <button class="ql-underline" title="Underline"></button>
            <button class="ql-code-block" title="Code Block"></button>
            <select class="ql-color" title="Text Color">
              <option value="false">Default</option>
              <option value="#FFD700">Yellow</option>
              <option value="#90EE90">Green</option>
              <option value="#FFB6C1">Pink</option>
              <option value="#87CEEB">Blue</option>
            </select>
            <select class="ql-background" title="Highlight">
              <option value="false">No Highlight</option>
              <option value="rgba(255, 235, 59, 0.3)">Yellow Highlight</option>
              <option value="rgba(102, 187, 106, 0.3)">Green Highlight</option>
              <option value="rgba(244, 143, 177, 0.3)">Pink Highlight</option>
              <option value="rgba(135, 206, 250, 0.3)">Blue Highlight</option>
            </select>
          </div>

          <!-- Quill Editor Container -->
          <div id="editor" class="notebook-editor"></div>

          <!-- Word Count & Metadata -->
          <div class="editor-metadata">
            <div class="word-count-info">
              <span id="wordCount">0</span> words Â· <span id="charCount">0</span> characters
            </div>
            <div class="reading-time">
              Reading time: <span id="readingTime">0</span> min
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Chat Button -->
    <div class="chat-button">ğŸ’¬</div>
  </div>

  <!-- Create Note Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="create-note-modal">
      <div class="modal-header">
        <div class="modal-title">Create New Note</div>
        <button class="close-btn" id="closeModalBtn">âœ•</button>
      </div>

      <form id="createNoteForm">
        <div class="form-group">
          <label class="form-label">Category</label>
          <input type="text" class="form-input" id="formNoteCategory" placeholder="e.g., Biology, Physics, Chemistry" required>
        </div>

        <div class="form-group">
          <label class="form-label">Title</label>
          <input type="text" class="form-input" id="formNoteTitle" placeholder="Enter note title" required>
        </div>

        <div class="form-group">
          <label class="form-label">Content</label>
          <textarea class="form-input form-textarea" id="formNoteContent" placeholder="Write your note here..." required></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Color Theme</label>
          <div class="color-picker">
            <div class="color-option color-blue selected" data-color="blue"></div>
            <div class="color-option color-pink" data-color="pink"></div>
            <div class="color-option color-green" data-color="green"></div>
            <div class="color-option color-yellow" data-color="yellow"></div>
            <div class="color-option color-cyan" data-color="cyan"></div>
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn-cancel" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn-save">Save Note</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <!-- Quill Rich Text Editor Library -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

  <!-- External JavaScript -->
  <script src="../js/shared-component.js"></script>
  <script src="../js/notes-script.js"></script>
</body>
</html>
</body>
</html>
