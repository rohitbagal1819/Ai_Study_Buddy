<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StudyBuddy - My Notes</title>

  <!-- âœ… External CSS -->
  <link rel="stylesheet" href="notes.css">
</head>

<body>
  <div class="container">
    <div class="sidebar">
      <div class="logo">
        <div class="logo-icon">ğŸ“š</div>
        <div class="logo-text">StudyBuddy</div>
      </div>

      <a href="#" class="nav-item"><span class="nav-icon">ğŸ“Š</span>Dashboard</a>
      <a href="#" class="nav-item active"><span class="nav-icon">ğŸ“</span>Notes</a>
      <a href="#" class="nav-item"><span class="nav-icon">ğŸ“¤</span>File Upload</a>
      <a href="#" class="nav-item"><span class="nav-icon">â“</span>Quizzes</a>
      <a href="#" class="nav-item"><span class="nav-icon">ğŸƒ</span>Flashcards</a>
      <a href="#" class="nav-item"><span class="nav-icon">ğŸ“ˆ</span>Analytics</a>
      <a href="#" class="nav-item"><span class="nav-icon">ğŸ‘¥</span>Study Groups</a>
      <a href="#" class="nav-item"><span class="nav-icon">ğŸ¤–</span>AI Assistant</a>

      <div class="nav-divider"></div>

      <a href="#" class="nav-item"><span class="nav-icon">â”</span>Help</a>
      <a href="#" class="nav-item" id="darkModeBtn">
        <span class="nav-icon">ğŸŒ™</span><span id="darkModeText">Dark Mode</span>
      </a>
      <a href="#" class="nav-item"><span class="nav-icon">âš™ï¸</span>Settings</a>

      <div class="nav-divider"></div>

      <a href="#" class="nav-item" style="color: #e53e3e;">
        <span class="nav-icon">ğŸšª</span>Logout
      </a>
    </div>

    <div class="main-content">
      <div class="header">
        <div class="header-title">My Notes</div>

        <div class="header-right">
          <div class="notification-icon">ğŸ””<span class="notification-badge">2</span></div>

          <div class="user-profile" id="userProfile">
            <div class="user-avatar">J</div>
            <div class="user-info">
              <div class="user-name">John Doe</div>
              <div class="user-role">Student</div>
            </div>

            <div class="profile-popup" id="profilePopup">
              <div class="profile-popup-item"><span>ğŸ‘¤</span><span>My Profile</span></div>
              <div class="profile-popup-item"><span>âš™ï¸</span><span>Settings</span></div>
              <div class="profile-popup-item"><span>ğŸ“Š</span><span>My Progress</span></div>
              <div class="profile-popup-item"><span>ğŸ¯</span><span>Goals</span></div>
              <div class="profile-popup-item" style="color: #e53e3e;"><span>ğŸšª</span><span>Logout</span></div>
            </div>
          </div>
        </div>
      </div>

      <div class="student-banner">
        <div>
          <h2>Hi John ğŸ‘‹</h2>
          <p>Todayâ€™s goal: revise 2 notes + take 1 quiz âœ…</p>
        </div>

        <div class="banner-actions">
          <button class="banner-btn" id="quickAddNote">â• Quick Note</button>
          <button class="banner-btn secondary" id="startDailyQuiz">ğŸ¯ Daily Quiz</button>
        </div>
      </div>

      <div class="notes-controls">
        <input type="text" class="notes-search" placeholder="Search notes..." id="notesSearch">

        <div class="controls-right">
          <div class="filter-dropdown"><span>ğŸ”½</span><span>All</span></div>

          <div class="view-toggle">
            <button class="view-btn active">ğŸ“±</button>
            <button class="view-btn">ğŸ“‹</button>
          </div>

          <button class="create-note-btn" id="createNoteBtn"><span>â•</span>Create Note</button>
        </div>
      </div>

      <div class="ai-suggestion">
        <div class="ai-left">
          <div class="ai-icon">ğŸ¤–</div>
          <div>
            <h3>AI Tip for you</h3>
            <p id="aiTipText">Summarize your Physics note into 5 bullet points for faster revision.</p>
          </div>
        </div>
        <button class="ai-btn" id="aiGenerateBtn">Generate âœ¨</button>
      </div>

      <div class="notes-grid" id="notesGrid">
        <div class="note-card blue">
          <div class="note-header">
            <div class="note-category"><span>ğŸ“</span>Biology</div>
            <div class="note-actions">
              <span class="star-icon">â­</span>
              <span class="more-icon">â‹®</span>
            </div>
          </div>
          <div class="note-title">Introduction to Biology</div>
          <div class="note-preview">Cells are the basic units of life. All living organisms are composed of cells...</div>
          <div class="note-footer"><span>ğŸ•</span>2 hours ago</div>
        </div>

        <div class="note-card pink">
          <div class="note-header">
            <div class="note-category"><span>ğŸ“</span>Physics</div>
            <div class="note-actions">
              <span class="star-icon">â˜†</span>
              <span class="more-icon">â‹®</span>
            </div>
          </div>
          <div class="note-title">Newton's Laws of Motion</div>
          <div class="note-preview">First Law: An object at rest stays at rest and an object in motion stays in motion...</div>
          <div class="note-footer"><span>ğŸ•</span>1 day ago</div>
        </div>

        <div class="note-card green">
          <div class="note-header">
            <div class="note-category"><span>ğŸ“</span>Chemistry</div>
            <div class="note-actions">
              <span class="star-icon">â­</span>
              <span class="more-icon">â‹®</span>
            </div>
          </div>
          <div class="note-title">Chemical Bonding</div>
          <div class="note-preview">Ionic bonds are formed when electrons are transferred from one atom to another...</div>
          <div class="note-footer"><span>ğŸ•</span>3 days ago</div>
        </div>

        <div class="note-card yellow">
          <div class="note-header">
            <div class="note-category"><span>ğŸ“</span>History</div>
            <div class="note-actions">
              <span class="star-icon">â˜†</span>
              <span class="more-icon">â‹®</span>
            </div>
          </div>
          <div class="note-title">World War II Timeline</div>
          <div class="note-preview">1939: Germany invades Poland, starting World War II in Europe...</div>
          <div class="note-footer"><span>ğŸ•</span>1 week ago</div>
        </div>

        <div class="note-card pink">
          <div class="note-header">
            <div class="note-category"><span>ğŸ“</span>Mathematics</div>
            <div class="note-actions">
              <span class="star-icon">â˜†</span>
              <span class="more-icon">â‹®</span>
            </div>
          </div>
          <div class="note-title">Calculus Fundamentals</div>
          <div class="note-preview">Derivatives represent the rate of change of a function...</div>
          <div class="note-footer"><span>ğŸ•</span>2 weeks ago</div>
        </div>

        <div class="note-card cyan">
          <div class="note-header">
            <div class="note-category"><span>ğŸ“</span>Literature</div>
            <div class="note-actions">
              <span class="star-icon">â­</span>
              <span class="more-icon">â‹®</span>
            </div>
          </div>
          <div class="note-title">Shakespeare's Hamlet</div>
          <div class="note-preview">To be or not to be, that is the question...</div>
          <div class="note-footer"><span>ğŸ•</span>3 weeks ago</div>
        </div>
      </div>
    </div>

    <div class="chat-button">ğŸ’¬</div>
  </div>

  <!-- Create Note Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="create-note-modal">
      <div class="modal-header">
        <div class="modal-title">Create New Note</div>
        <button class="close-btn" id="closeModalBtn">âœ•</button>
      </div>

      <form id="noteForm">
        <div class="form-group">
          <label class="form-label">Category</label>
          <input type="text" class="form-input" id="noteCategory" placeholder="e.g., Biology, Physics, Chemistry" required>
        </div>

        <div class="form-group">
          <label class="form-label">Title</label>
          <input type="text" class="form-input" id="noteTitle" placeholder="Enter note title" required>
        </div>

        <div class="form-group">
          <label class="form-label">Content</label>
          <textarea class="form-input form-textarea" id="noteContent" placeholder="Write your note here..." required></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Color Theme</label>
          <div class="color-picker">
            <div class="color-option color-blue selected" data-color="blue"></div>
            <div class="color-option color-pink" data-color="pink"></div>
            <div class="color-option color-green" data-color="green"></div>
            <div class="color-option color-yellow" data-color="yellow"></div>
            <div class="color-option color-cyan" data-color="cyan"></div>
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn-cancel" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn-save">Save Note</button>
        </div>
      </form>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    let selectedColor = 'blue';

    // Dark Mode
    const darkModeBtn = document.getElementById('darkModeBtn');
    const darkModeText = document.getElementById('darkModeText');
    darkModeBtn.addEventListener('click', (e) => {
      e.preventDefault();
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      darkModeText.textContent = isDark ? 'Light Mode' : 'Dark Mode';
      darkModeBtn.querySelector('.nav-icon').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
    });

    // Profile Popup
    const userProfile = document.getElementById('userProfile');
    const profilePopup = document.getElementById('profilePopup');
    userProfile.addEventListener('click', (e) => {
      e.stopPropagation();
      profilePopup.classList.toggle('active');
    });
    document.addEventListener('click', () => profilePopup.classList.remove('active'));

    // Modal
    const createNoteBtn = document.getElementById('createNoteBtn');
    const modalOverlay = document.getElementById('modalOverlay');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const cancelBtn = document.getElementById('cancelBtn');

    createNoteBtn.addEventListener('click', () => modalOverlay.classList.add('active'));
    closeModalBtn.addEventListener('click', () => modalOverlay.classList.remove('active'));
    cancelBtn.addEventListener('click', () => modalOverlay.classList.remove('active'));
    modalOverlay.addEventListener('click', (e) => {
      if (e.target === modalOverlay) modalOverlay.classList.remove('active');
    });

    // Color Picker
    document.querySelectorAll('.color-option').forEach(opt => {
      opt.addEventListener('click', function() {
        document.querySelectorAll('.color-option').forEach(o => o.classList.remove('selected'));
        this.classList.add('selected');
        selectedColor = this.dataset.color;
      });
    });

    // Form Submit - Create New Note
    document.getElementById('noteForm').addEventListener('submit', (e) => {
      e.preventDefault();

      const category = document.getElementById('noteCategory').value.trim();
      const title = document.getElementById('noteTitle').value.trim();
      const content = document.getElementById('noteContent').value.trim();

      if (!category || !title || !content) {
        alert('Please fill in all fields!');
        return;
      }

      const noteCard = document.createElement('div');
      noteCard.className = `note-card ${selectedColor}`;
      noteCard.innerHTML = `
        <div class="note-header">
          <div class="note-category"><span>ğŸ“</span>${category}</div>
          <div class="note-actions">
            <span class="star-icon">â˜†</span>
            <span class="more-icon">â‹®</span>
          </div>
        </div>
        <div class="note-title">${title}</div>
        <div class="note-preview">${content.length > 100 ? content.substring(0, 100) + '...' : content}</div>
        <div class="note-footer"><span>ğŸ•</span>Just now</div>
      `;

      noteCard.addEventListener('click', function() {
        alert(`Opening note: ${title}\n\n${content}`);
      });

      const starIcon = noteCard.querySelector('.star-icon');
      starIcon.addEventListener('click', function(e) {
        e.stopPropagation();
        this.textContent = this.textContent === 'â˜†' ? 'â­' : 'â˜†';
      });

      const moreIcon = noteCard.querySelector('.more-icon');
      moreIcon.addEventListener('click', function(e) {
        e.stopPropagation();
        const confirmDelete = confirm(`Delete note "${title}"?`);
        if (confirmDelete) {
          noteCard.style.transform = 'scale(0)';
          noteCard.style.opacity = '0';
          setTimeout(() => noteCard.remove(), 300);
        }
      });

      const notesGrid = document.getElementById('notesGrid');
      notesGrid.insertBefore(noteCard, notesGrid.firstChild);

      noteCard.style.transform = 'scale(0)';
      noteCard.style.opacity = '0';
      setTimeout(() => {
        noteCard.style.transition = 'all 0.3s ease';
        noteCard.style.transform = 'scale(1)';
        noteCard.style.opacity = '1';
      }, 10);

      document.getElementById('noteForm').reset();
      document.querySelectorAll('.color-option').forEach(o => o.classList.remove('selected'));
      document.querySelector('.color-blue').classList.add('selected');
      selectedColor = 'blue';
      modalOverlay.classList.remove('active');

      alert(`Note "${title}" created successfully! âœ…`);
    });

    // Star functionality for existing notes
    document.querySelectorAll('.star-icon').forEach(star => {
      star.addEventListener('click', function(e) {
        e.stopPropagation();
        this.textContent = this.textContent === 'â˜†' ? 'â­' : 'â˜†';
      });
    });

    // More menu for existing notes
    document.querySelectorAll('.more-icon').forEach(more => {
      more.addEventListener('click', function(e) {
        e.stopPropagation();
        const action = confirm('Delete this note?');
        if (action) this.closest('.note-card').remove();
      });
    });

    // Note card click
    document.querySelectorAll('.note-card').forEach(card => {
      card.addEventListener('click', function() {
        const title = this.querySelector('.note-title').textContent;
        alert(`Opening note: ${title}`);
      });
    });

    // Search functionality
    const notesSearch = document.getElementById('notesSearch');
    notesSearch.addEventListener('input', function() {
      const query = this.value.toLowerCase();
      document.querySelectorAll('.note-card').forEach(card => {
        const title = card.querySelector('.note-title').textContent.toLowerCase();
        const content = card.querySelector('.note-preview').textContent.toLowerCase();
        const category = card.querySelector('.note-category').textContent.toLowerCase();

        if (title.includes(query) || content.includes(query) || category.includes(query)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });

    // View toggle
    document.querySelectorAll('.view-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');

        const grid = document.getElementById('notesGrid');
        if (this.textContent === 'ğŸ“‹') {
          grid.style.gridTemplateColumns = '1fr';
        } else {
          grid.style.gridTemplateColumns = 'repeat(3, 1fr)';
        }
      });
    });

    // Navigation
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function(e) {
        if (!this.textContent.includes('Dark Mode') && !this.textContent.includes('Light Mode') && !this.textContent.includes('Logout')) {
          e.preventDefault();
          document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    document.getElementById("aiGenerateBtn").addEventListener("click", () => {
      const tips = [
        "Revise 10 flashcards now to boost retention ğŸ’¡",
        "Create a quick quiz from your Biology notes ğŸ¯",
        "Summarize todayâ€™s notes into 3 key points âœ…",
        "Mark important formulas as â­ for exam prep."
      ];
      document.getElementById("aiTipText").textContent =
        tips[Math.floor(Math.random() * tips.length)];
    });

    // Chat button
    document.querySelector('.chat-button').addEventListener('click', () => {
      alert('AI Assistant chat opening soon!');
    });

    // Notification
    document.querySelector('.notification-icon').addEventListener('click', () => {
      alert('You have 2 new notifications:\n1. Biology quiz results are ready\n2. New flashcard deck shared with you');
    });
  </script>
</body>
</html>
